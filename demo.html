<html>
<head>
    <title>jPaint demo</title>

    <link rel="stylesheet" type="text/css" href="styles/style.css"/>
    <link rel="stylesheet" type="text/css" href="styles/picker_style.css"/>
    <link rel="stylesheet" type="text/css" href="styles/helpers.css"/>
    <link rel="stylesheet" type="text/css" href="styles/top_icons.css"/>
    <link rel="stylesheet" type="text/css" href="styles/menu_icons.css"/>
    <link rel="stylesheet" type="text/css" href="modules/windows/windows.css"/>
    <link rel="stylesheet" type="text/css" href="styles/print.css" media="print"/>

    <script type="text/javascript" src="scripts/knockout-2.2.1.js"></script>
    <script type="text/javascript" src="scripts/view_model.js"></script>
    <script type="text/javascript" src="scripts/color.js"></script>
    <script type="text/javascript" src="scripts/picker.js"></script>
    <script type="text/javascript" src="scripts/position.js"></script>
    <script type="text/javascript" src="scripts/drawbox.js"></script>
    <script type="text/javascript" src="scripts/common.js"></script>
    <script type="text/javascript" src="scripts/file_functions.js"></script>
    <script type="text/javascript" src="modules/windows/windows.js"></script>
</head>

<script type="text/javascript">
    var appViewModel = new PaintViewModel();
</script>

<body onload="init()" onmouseup="mouseUp()" id="app">

<!--<div id="top_icons_properties" class="popup-container"
     data-bind="with: TopIcons, visible: TopIcons().PropertiesVisible, style: { left: TopIcons().PropertiesWindowPosition().left, top: TopIcons().PropertiesWindowPosition().top }">
    <div class="popup-container-header popup-container-header-top">Customize Quick Access Toolbar</div>
    <div class="full-width" data-bind="foreach: Icons">
        <table cellspacing="0" cellpadding="0" class="common_button full-width">
            <tr data-bind="click: ChangeState">
                <td class="top-icon-customize-outer" style="width: 20px; height: 20px">
                    <div data-bind="css: Visible() == true ? 'top-icon-customize-checked' : ''">
                        <div data-bind="css: Visible() == true ? 'top-icon-customize-checked-inner' : ''">
                            <img src="img/check.png" data-bind="visible: Visible"/>
                        </div>
                    </div>
                </td>
                <td data-bind="text: Name"></td>
            </tr>
        </table>
    </div>
</div>-->

<div class="systemOuterBorder" style="position: absolute;">
<!-- System border -->
<div class="systemBorder">
<div class="systemBar" onmousedown="beginDrag(event, this)" onmouseup="endDrag()">
    <table class="full-width">
        <tr>
            <td>
                <table data-bind="with: TopIcons">
                    <tr>
                        <td class="top_icon systemAppIcon">&nbsp</td>

                        <td class="windows_separator"></td>

                        <!-- ko foreach: VisibleIcons -->
                        <td data-bind="css: Enabled ? 'common_button' : '', attr: { 'title' : Name() + ': ' + Description() }">
                            <div class="top_icon"
                                 data-bind="style: { 'background-position':  BackgroundStyle }, click: Action"></div>
                        </td>
                        <!-- /ko -->

                        <td id="top_icons_show_properties_btn" data-bind="click: ShowProperties" class="common_button">
                            <img src="img/top_icon_show_properties.png"/>
                        </td>

                        <td class="windows_separator"></td>

                        <td style="font-size: 14px">Untitled - Paint</td>
                    </tr>
                </table>
            </td>

            <td>
                <div class="full-width">
                    <table align="right">
                        <tr>
                            <td>
                                <div id="minimize_button" class="system_button">&nbsp</div>
                            </td>
                            <td>
                                <div id="maximize_button" class="system_button">&nbsp</div>
                            </td>
                            <td>
                                <div id="close_button" class="system_button" data-bind="click: Exit">&nbsp</div>
                            </td>
                        </tr>
                    </table>
                </div>
            </td>
        </tr>
    </table>
</div>

<!-- Menu -->
<div id="menu_bar">
    <table>
        <tr>
            <td>
                <div id="main_menu_button_block" class="main_menu_button" onclick="showMainMenu()">&nbsp</div>
            </td>
            <td>
                <div class="menu_item" onclick="showRibbon('home')">Home</div>
            </td>
            <td>
                <div class="menu_item" onclick="showRibbon('view')">View</div>
            </td>
        </tr>
    </table>
</div>

<!-- Upper toolbar -->
<div id="outer_toolbar">
<div id="toolbar">
<div id="inner_toolbar">
<table id="ribbon_home">
<tr>
<td>
    <div>
        <table>
            <tr>
                <td rowspan="2"><img src="img/ribbon_home_icons/paste_disabled.png"/></td>
                <td><img src="img/cut_disabled.png"/></td>
                <td>
                    <div class="toolbar_caption">Cut</div>
                </td>
            </tr>
            <tr>
                <td><img src="img/copy_disabled.png"/></td>
                <td>
                    <div class="toolbar_caption">Copy</div>
                </td>
            </tr>
            <tr>
                <td>
                    <div style="text-align: center">
                        <div class="toolbar_caption">Paste</div>
                        <img src="img/down_arrow.png"/>
                    </div>
                </td>
                <td><!-- Empty cell --></td>
            </tr>
        </table>
    </div>
    <div class="toolbar_caption">Clipboard</div>
</td>
<td class="toolbar_separator"></td>
<td>
    <div>
        <table>
            <tr>
                <td>
                    <div style="text-align: center">
                        <div><img src="img/ribbon_home_icons/select.png"/></div>
                        <div class="toolbar_caption">Select</div>
                        <img src="img/down_arrow.png"/>
                    </div>
                </td>
                <td>
                    <table>
                        <tr>
                            <td class="common_button">
                                <table>
                                    <tr>
                                        <td><img src="img/crop_disabled.png"/></td>
                                        <td>
                                            <div class="toolbar_caption">Crop</div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td class="common_button" onclick="showCanvasResizeWindow()">
                                <table>
                                    <tr>
                                        <td><img src="img/resize.png"/></td>
                                        <td>
                                            <div class="toolbar_caption">Resize</div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td class="common_button" onclick="showRotateBlock()" id="rotate_block_button">
                                <table>
                                    <tr>
                                        <td><img src="img/rotate_icons/rotate_right.png"/></td>
                                        <td>
                                            <div class="toolbar_caption">Rotate</div>
                                        </td>
                                        <td><img src="img/down_arrow.png"/></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
    <div class="toolbar_caption">Image</div>
</td>
<td class="toolbar_separator"></td>
<td>
    <table cellpadding="0" cellspacing="0" class="tool_table">
        <tr>
            <td id="tool_pencil" class="tool_item_left button" onclick="activatePencil()"><img
                    src="img/pencil.png"/></td>
            <td id="tool_fill" class="tool_item_center button" onclick="activateFill()"><img
                    src="img/fill.png"/></td>
            <td id="tool_text" class="tool_item_right button"><img src="img/text.png"/></td>
        </tr>
    </table>

    <table cellpadding="0" cellspacing="0" class="tool_table">
        <tr>
            <td id="tool_eraser" class="tool_item_left button" onclick="activateEraser()"><img
                    src="img/eraser.png"/></td>
            <td id="tool_picker" class="tool_item_center button" onclick="activateColorPicker()"><img
                    src="img/picker.png"/></td>
            <td id="tool_zoom" class="tool_item_right button"><img src="img/zoom.png"/></td>
        </tr>
    </table>
    <div class="toolbar_caption">Tools</div>
</td>
<td class="toolbar_separator"></td>
<td>
    <div style="text-align: center">
        <div><img src="img/ribbon_home_icons/brushes.png"/></div>
        <div>Brushes</div>
        <div><img src="img/down_arrow.png"/></div>
    </div>
</td>
<td class="toolbar_separator"></td>
<td>
    <table>
        <tr>
            <td>
                <!-- Real-table simulation -->
                <table id="shape_table">
                    <tr>
                        <td>a</td>
                        <td>b</td>
                        <td>c</td>
                        <td>d</td>
                        <td>e</td>
                        <td>f</td>
                        <td>g</td>
                    </tr>
                    <tr>
                        <td>a</td>
                        <td>b</td>
                        <td>c</td>
                        <td>d</td>
                        <td>e</td>
                        <td>f</td>
                        <td>g</td>
                    </tr>
                    <tr>
                        <td>a</td>
                        <td>b</td>
                        <td>c</td>
                        <td>d</td>
                        <td>e</td>
                        <td>f</td>
                        <td>g</td>
                    </tr>
                </table>
            </td>
            <td>
                <div>
                    <img src="img/outline_disabled.png"/>
                    Outline
                    <img src="img/down_arrow.png"/>
                </div>
                <div>
                    <img src="img/fill_shape_disabled.png"/>
                    Fill
                    <img src="img/down_arrow.png"/>
                </div>
            </td>
        </tr>
    </table>
    <div class="toolbar_caption">Shapes</div>
</td>
<td class="toolbar_separator"></td>
<td style="text-align:center; vertical-align: top; padding-top: 6px">
    <div id="brush_width_button" style="padding: 5px 0" class="common_button" onclick="showBrushWidthBlock()">
        <div style="margin: 5px"><img src="img/ribbon_home_icons/brush_size.png"/></div>
        <div style="font-size: 14px; color: #1E395B; margin: 5px">Size</div>
        <div style="margin: 5px"><img src="img/down_arrow.png"/></div>
    </div>
</td>
<td class="toolbar_separator"></td>
<td>
    <table>
        <tr>
            <td id="primary_color_button" class="common_button_selected"
                style="width: 42px; height: 66px; text-align: center;" onclick="makePrimaryColorActive()">
                <div class='color_selected' style="width: 28px; height: 28px; margin:0 auto;">
                    <div id="primary_color_view" style="background-color: #000; width: 28px; height: 28px">
                        &nbsp
                    </div>
                </div>
                <div>Color</div>
                <div>1</div>
            </td>
            <td id="secondary_color_button" class="common_button"
                style="width: 42px; height: 66px; text-align: center;" onclick="makeSecondaryColorActive()">
                <div class='color_selected' style="width: 20px; height: 20px; margin:0 auto;">
                    <div id="secondary_color_view" style="background-color: #FFF; width: 20px; height: 20px">
                        &nbsp
                    </div>
                </div>
                <div>Color</div>
                <div>2</div>
            </td>
            <td>
                <table id="palette"></table>
            </td>
            <td class="common_button" style="width: 42px; height: 66px; text-align: center;"
                onclick="showColorPicker()">
                <div><img src="img/ribbon_home_icons/edit_colors.png"/></div>
                <div>Edit</div>
                <div>colors</div>
            </td>
        </tr>
    </table>
    <div class="toolbar_caption">Colors</div>
</td>
<td class="toolbar_separator"></td>
</tr>
</table>
<table id="ribbon_view">
    <tr>
        <td>
            <table>
                <tr>
                    <td class="common_button" style="width: 42px; height: 66px; text-align: center;"
                        data-bind="click: ZoomIn">
                        <div><img src="img/ribbon_view_icons/zoom_in.png"/></div>
                        <div>Zoom</div>
                        <div>in</div>
                    </td>
                    <td class="common_button" style="width: 42px; height: 66px; text-align: center;"
                        data-bind="click: ZoomOut">
                        <div><img src="img/ribbon_view_icons/zoom_out.png"/></div>
                        <div>Zoom</div>
                        <div>out</div>
                    </td>
                    <td class="common_button" style="width: 42px; height: 66px; text-align: center;">
                        <div><img src="img/ribbon_view_icons/100_percents.png"/></div>
                        <div>100</div>
                        <div>%</div>
                    </td>
                </tr>
            </table>
            <div class="toolbar_caption">Zoom</div>
        </td>
        <td class="toolbar_separator"></td>
        <td>
            <table>
                <tr>
                    <td>
                        <div><input type="checkbox" onclick="changeRulersVisibility(this.checked)">Rulers</input></div>
                        <div><input type="checkbox">Gridlines</input></div>
                        <div>
                            <input type="checkbox" data-bind="checked: StatusBarVisible">Status bar</input>
                        </div>
                    </td>
                </tr>
            </table>
            <div class="toolbar_caption">Show or hide</div>
        </td>
        <td class="toolbar_separator"></td>
        <td>
            <table>
                <tr>
                    <td class="common_button" style="width: 42px; height: 66px; text-align: center;">
                        <div><img src="img/ribbon_view_icons/full_screen.png"/></div>
                        <div>Full</div>
                        <div>screen</div>
                    </td>
                    <td class="common_button" style="width: 42px; height: 66px; text-align: center;">
                        <div><img src="img/ribbon_view_icons/thumbnail_disabled.png"/></div>
                        <div>Thumbnail</div>
                    </td>
                </tr>
            </table>
            <div class="toolbar_caption">Display</div>
        </td>
    </tr>
</table>
</div>
</div>
</div>

<!-- Main part with canvas -->
<table class="full-width" style="height: 100%">
    <tr>
        <td></td>
        <td>
            <div class="rulers" id="horizontal_ruler_block" style="height: 18px; display: none">
                <canvas height="18" id="horizontal_ruler"></canvas>
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <div class="rulers" id="vertical_ruler_block" style="width: 18px; display: none">
                <canvas width="18" id="vertical_ruler"></canvas>
            </div>
        </td>
        <td>
            <div id="workzone">
                <table id="canvas_block">
                    <tr>
                        <td>
                            <canvas style="width: 500px; height: 500px" width="500px" height="500px"
                                    id="canv"
                                    onmousedown="mouseDown()" onmouseout="removeEraserCursor()"
                                    onmouseover="createEraserCursor()"></canvas>
                        </td>
                        <td>
                            <div class="resizing_adorner" id="east_resizing_adorner" onmousedown="startResizingEast()">
                                &nbsp
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <div class="resizing_adorner" id="south_resizing_adorner"
                                 onmousedown="startResizingSouth()">&nbsp
                            </div>
                        </td>
                        <td>
                            <div class="resizing_adorner" id="se_resizing_adorner" onmousedown="startResizingSe()">
                                &nbsp
                            </div>
                        </td>
                    </tr>
                </table>
            </div>
        </td>
    </tr>
</table>
<!-- Bottom statusbar -->
<div id="statusbar" data-bind="visible: StatusBarVisible">
    <div id="statusbar_inner">
        <table class="full-width">
            <tr>
                <td class="statusbar_icon"><img src="img/statusbar_icons/position.png"/></td>
                <td id="statusbar_coords" class="statusbar_text"></td>

                <td class="statusbar_icon"><img src="img/statusbar_icons/selection_size.png"/></td>
                <td class="statusbar_text">SelectionSize</td>

                <td class="statusbar_icon"><img src="img/statusbar_icons/canvas_size.png"/></td>
                <td id="canvas_size_info" class="statusbar_text"></td>

                <td class="statusbar_icon"><img src="img/statusbar_icons/file_size.png"/></td>
                <td class="statusbar_text">Size: 0KB</td>

                <td>
                    <div align="right">
                        <table style="margin: 0">
                            <tr>
                                <td>
                                    <div id="zoom_text_value">100%</div>
                                </td>

                                <td><img src="img/statusbar_icons/zoom_out.png" data-bind="click: ZoomOut"/></td>

                                <td>
                                    <input id="zoom_value" type="range" value="100" min="25" max="800" step="25"
                                           style="width:100px; margin: 0;" onchange="raiseZoomChanged()"/>
                                </td>

                                <td><img src="img/statusbar_icons/zoom_in.png" data-bind="click: ZoomIn"/></td>
                            </tr>
                        </table>
                    </div>
                </td>
            </tr>
        </table>
    </div>
</div>

<!-- External blocks -->
<!-- Brush width block -->
<div id="brush_width_block"></div>

<!-- Rotate block -->
<div id="rotate_block">
    <table cellspacing="0">
        <tr>
            <td class="common_button" onclick="turnRight()">
                <table cellspacing="0">
                    <tr>
                        <td class="rotate_block_image"><img src="img/rotate_icons/rotate_right.png"/></td>
                        <td class="rotate_block_text">Rotate right 90°</td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td class="common_button" onclick="turnLeft()">
                <table cellspacing="0">
                    <tr>
                        <td class="rotate_block_image"><img src="img/rotate_icons/rotate_left.png"/></td>
                        <td class="rotate_block_text">Rotate left 90°</td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td class="common_button" onclick="rotate()">
                <table cellspacing="0">
                    <tr>
                        <td class="rotate_block_image"><img src="img/rotate_icons/rotate_180.png"/></td>
                        <td class="rotate_block_text">Rotate 180°</td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td class="common_button" onclick="flipVertical()">
                <table cellspacing="0">
                    <tr>
                        <td class="rotate_block_image"><img src="img/rotate_icons/flip_vertical.png"/></td>
                        <td class="rotate_block_text">Flip vertical</td>
                    </tr>
                </table>
            </td>
        </tr>
        <tr>
            <td class="common_button" onclick="flipHorizontal()">
                <table cellspacing="0">
                    <tr>
                        <td class="rotate_block_image"><img src="img/rotate_icons/flip_horizontal.png"/></td>
                        <td class="rotate_block_text">Flip horizontal</td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

<!-- Main menu -->
<div id="main_menu">
    <div id="main_menu_top">
        <table cellspacing="0">
            <tr>
                <td>
                    <div class="main_menu_button" onclick="hideMainMenu()" style="margin: -1px">&nbsp</div>
                </td>
                <td></td>
            </tr>
        </table>
    </div>
    <div>
        <table cellspacing="0" cellpadding="0" class="full-width">
            <tr>
                <td id="main_menu_icons">
                    <table class="full-width" cellspacing="0" cellpadding="0">
                        <tr>
                            <td colspan="3">
                                <div class="main_menu_item common_button" data-bind="click: New">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-new">&nbsp</td>
                                            <td class="main_menu_item_text">New</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="main_menu_item common_button" id="main_menu_open_image_button">
                                    <input type="file" class="trap_filepicker" data-bind="event: { change: Open }"
                                           id="image_file_picker" accept="image/*"/>
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-open">&nbsp</td>
                                            <td class="main_menu_item_text">Open</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="main_menu_item common_button" data-bind="click: Save">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-save">&nbsp</td>
                                            <td class="main_menu_item_text">Save</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="main_menu_item_text main_menu_separator">
                                <div class="main_menu_item common_button" onclick="showSaveAdditionalWindow()">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-save-as">&nbsp</td>
                                            <td class="main_menu_item_text">Save as</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="main_menu_item common_button" data-bind="click: Print">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-print">&nbsp</td>
                                            <td class="main_menu_item_text">Print</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="main_menu_item">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-from-scanner">&nbsp</td>
                                            <td class="main_menu_item_text" disabled="disabled">From scanner or camera
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="main_menu_item_text main_menu_separator">
                                <div class="main_menu_item">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-send-mail">&nbsp</td>
                                            <td class="main_menu_item_text" disabled="disabled">Send e-mail</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="main_menu_item_text main_menu_separator">
                                <div class="main_menu_item">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-set-background">&nbsp</td>
                                            <td class="main_menu_item_text" disabled="disabled">Set as desktop
                                                background
                                            </td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="main_menu_item_text main_menu_separator"
                                data-bind="click: ShowProperties">
                                <div class="main_menu_item common_button">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-properties">&nbsp</td>
                                            <td class="main_menu_item_text">Properties</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3" class="main_menu_item_text main_menu_separator"
                                data-bind="click: ShowAbout">
                                <div class="main_menu_item common_button">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-about">&nbsp</td>
                                            <td class="main_menu_item_text">About Paint</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <div class="main_menu_item common_button" data-bind="click: Exit">
                                    <table style="height: 100%">
                                        <tr>
                                            <td class="menu-icon menu-icon-exit">&nbsp</td>
                                            <td class="main_menu_item_text">Exit</td>
                                        </tr>
                                    </table>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
                <td style="vertical-align: top; background: #FFFFFF;">
                    <div id="recent_pictures_block">
                        <table id="recent_pictures_list">
                            <tr>
                                <td colspan="2" class="recent_image_item" id="recent_pictures_header">Recent pictures
                                </td>
                            </tr>
                        </table>
                    </div>
                </td>
            </tr>
        </table>
    </div>
    <div id="main_menu_bottom">&nbsp</div>
</div>

<!-- Eraser cursor -->
<div id="eraser_cursor"></div>

<!-- SAVE AS ADDITIONAL WINDOW -->
<div class="main_menu_additional_window" style="display: none" id="save_as_additional_window">
    <div class="main_menu_item common_button" onclick="saveAsPng()">
        <table>
            <tr>
                <td><img src="img/imagetype_icons/png.png"/></td>
                <td class="main_menu_additional_window_text"><b>PNG picture</b><br/>Save a photo or drawing with high
                    quality and use it on your computer or on the web.
                </td>
            </tr>
        </table>
    </div>

    <div class="main_menu_item common_button" onclick="saveAsJpeg()">
        <table>
            <tr>
                <td><img src="img/imagetype_icons/jpg.png"/></td>
                <td class="main_menu_additional_window_text"><b>JPEG picture</b></br>Save a photo with good quality and
                    use it on your computer, in e-mail, or on the web.
                </td>
            </tr>
        </table>
    </div>

    <div class="main_menu_item common_button">
        <table>
            <tr>
                <td><img src="img/imagetype_icons/bmp.png"/></td>
                <td class="main_menu_additional_window_text"><b>BMP picture</b><br/>Save any kind of picture with high
                    quality and use it on your computer.
                </td>
            </tr>
        </table>
    </div>

    <div class="main_menu_item common_button">
        <table>
            <tr>
                <td><img src="img/imagetype_icons/gif.png"/></td>
                <td class="main_menu_additional_window_text"><b>GIF picture</b><br/>Save a simple drawing with lower
                    quality and use it in e-mail or on the web.
                </td>
            </tr>
        </table>
    </div>

    <div class="main_menu_item common_button">
        <table>
            <tr>
                <td><img src="img/imagetype_icons/other.png"/></td>
                <td class="main_menu_additional_window_text"><b>Other formats</b><br/>Open the Save As dialog box to
                    select from all possible file types.
                </td>
            </tr>
        </table>
    </div>
</div>
</div>
</div>

<!-- Canvas resize window -->
<!-- Window Content -->
<div id="canvas_resize_window_content" style="display: none">
    <fieldset style="border-radius: 5px; -webkit-border-radius: 5px">
        <legend>Resize</legend>
        <div>
            By:<input type="radio" checked="true" name="change_size_by_radiobtn" value="1">Percentage</input><input
                type="radio" name="change_size_by_radiobtn" value="2">Pixels</input>
        </div>
        <table>
            <tr>
                <td><img src="img/resize_pics/resize_horizontal.png"/></td>
                <td>Horizontal:</td>
                <td><input type="text" value="100" class="resizing_window_input"/></td>
            </tr>
            <tr>
                <td><img src="img/resize_pics/resize_vertical.png"/></td>
                <td>Vertical:</td>
                <td><input type="text" value="100" class="resizing_window_input"/></td>
            </tr>
        </table>
        <div>
            <input type="checkbox"/>Maintain aspect ratio
        </div>
    </fieldset>
    <fieldset style="border-radius: 5px; -webkit-border-radius: 5px">
        <legend>Skew (degrees)</legend>
        <table>
            <tr>
                <td><img src="img/resize_pics/skew_horizontal.png"/></td>
                <td>Horizontal:</td>
                <td><input type="text" value="100" class="resizing_window_input"/></td>
            </tr>
            <tr>
                <td><img src="img/resize_pics/skew_vertical.png"/></td>
                <td>Vertical:</td>
                <td><input type="text" value="100" class="resizing_window_input"/></td>
            </tr>
        </table>
    </fieldset>

    <div align="right">
        <input type="button" value="OK" class="resize_window_button"/>
        <input type="button" value="Cancel" class="resize_window_button"/>
    </div>
</div>

<!-- COLOR PICKER -->
<div id="color_picker_window_content">
    <table>
        <tr>
            <td>
                <table id="predefined_colors_table">
                    <tr>
                        <td colspan="8">Basic colors:</td>
                    </tr>
                </table>

                <table id="custom_colors_table">
                    <tr>
                        <td colspan="8">Custom colors:</td>
                    </tr>
                </table>

                <div>
                    <input type="button" value="Define Custom Colors >> " id="define_custom_colors"/>
                </div>

                <div>
                    <input type="button" value="OK" class="ok_button" onclick="chooseColorFromPalette(this)"/>
                    <input type="button" value="Cancel" class="cancel_button"/>
                </div>
            </td>
            <td>
                <table>
                    <tr>
                        <td onmousedown="beginChangingPalette()" onmouseup="endChangingPalette()">
                            <div style="overflow: hidden; height: 242px;">
                                <canvas id="color_picker_palette" width="240px" height="240px"
                                        style="border-color: #000; border-style: solid; border-width: 1px;"></canvas>
                                <div id="palette_picker"
                                     style="position: relative; top: -240; width: 240px; height: 240px; z-index:10;">
                                    <img src="img/colorpicker/crosshair.png" id="palette_crosshair"/>
                                </div>
                            </div>
                        </td>
                        <td>
                            <table>
                                <tr>
                                    <td>
                                        <canvas id="lum_palette" width="10" height="185"
                                                style="border-color: #000; border-style: solid; border-width: 1px;">
                                            &nbsp
                                        </canvas>
                                    </td>
                                    <td>
                                        <div style="overflow: hidden; width: 10px; height: 190px;">
                                            <div style="vertical-align: top; margin-top: 0" id="luma_picker"
                                                 onmousedown="beginChangingLuma()" onmouseup="endChangingLuma()">
                                                <img src="img/colorpicker/luma_picker.png" id="luma_slider"/>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                </table>

                <table>
                    <tr>
                        <td rowspan="3">
                            <div id="color_example"></div>
                            <div>Color|Solid</div>
                        </td>
                        <td>Hue:</td>
                        <td><input type="text" class="color_param" id="hue_text" maxlength="3"/></td>
                        <td>Red:</td>
                        <td><input type="text" class="color_param" id="red_text" maxlength="3"/></td>
                    </tr>
                    <tr>
                        <td>Sat:</td>
                        <td><input type="text" class="color_param" id="saturation_text" maxlength="3"/></td>
                        <td>Green:</td>
                        <td><input type="text" class="color_param" id="green_text" maxlength="3"/></td>
                    </tr>
                    <tr>
                        <td>Lum:</td>
                        <td><input type="text" class="color_param" id="luma_text" maxlength="3"/></td>
                        <td>Blue:</td>
                        <td><input type="text" class="color_param" id="blue_text" maxlength="3"/></td>
                    </tr>
                    <tr>
                        <td colspan="4"><input type="button" class="add_to_custom" value="Add to Custom Colors"
                                               onclick="addToCustomColors()"/>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</div>

<div id="about_window_content" style="background-color: #F0F0F0; display: none">
    Windows 7 Professional
    <hr/>

    <p>Javascript Paint
        Version 3.8 (Build 3838: ServicePack 1)
        Copyright ©</p>

    <p>The Windows 7 Professional operating system and its user interface are
        protected by trademark and other pending or existing intellectual property
        rights in the United States and other countries.</p>

    <p>This product is licensed under the GNU license to:<br/>
        everybody.</p>

    <input type="button" value="OK"/>
</div>

<div id="properties_window_content" style="background-color: #F0F0F0; display: none">
    <fieldset>
        <legend>File Attributes</legend>
    </fieldset>

    <fieldset>
        <legend>Units</legend>
    </fieldset>

    <fieldset>
        <legend>Colors</legend>
    </fieldset>

    <input type="text"/> <input type="text"/> <input type="button" value="Default"/><br/>
    <input type="button" value="OK"/><input type="button" value="Cancel"/>
</div>

<!-- ko foreach: Windows -->
<!-- Black thin border -->
<div class="systemOuterBorder" data-bind="visible: IsVisible, style: { 'top': Top, 'left': Left }">
    <!-- System color border -->
    <div class="systemBorder">
        <div class="systemBar" data-bind="event: { mousedown: BeginDrag, mouseup: EndDrag }">
            <div class="systemLeft">
                <div class="top_icon systemAppIcon"></div>
                <div class="systemSeparator"></div>
                <span class="systemCaption" data-bind="text: Title"></span>
            </div>

            <div class="systemButtons">
                <div class="systemButton systemMinimizeButton" data-bind="visible: CanMinimize"></div>
                <div class="systemButton systemMaximizeButton" data-bind="visible: CanMaximize"></div>
                <div class="systemButton systemCloseButton" data-bind="visible: CanClose"></div>
            </div>
        </div>

        <div class="systemContent"
             data-bind="html: Content, style: { backgroundColor: Background, width: Width, height: Height }"></div>
    </div>
</div>
<!-- /ko -->

</body>
</html>